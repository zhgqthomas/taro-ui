(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"278":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(2)),i=n(62),l=_interopRequireDefault(n(63)),u=_interopRequireDefault(n(65)),c=_interopRequireDefault(n(64)),s=n(82);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=r.default.getEnv(),p=function(e){function AtImagePicker(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtImagePicker);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=n=_possibleConstructorReturn(this,(e=AtImagePicker.__proto__||Object.getPrototypeOf(AtImagePicker)).call.apply(e,[this].concat(a))),n.chooseFile=function(){var e=n.props,t=e.files,o=void 0===t?[]:t,a=e.multiple,i={"ALIPAY":"apFilePaths","WEAPP":"tempFiles","WEB":"tempFiles"}[f];r.default.chooseImage({"count":a?99:1}).then(function(e){var t=e.tempFilePaths.map(function(t,n){return{"url":t,"file":e[i][n]}});n.props.onChange(o.concat(t),"add")}).catch(n.props.onFail)},n.handleImageClick=function(e){return n.props.onImageClick(e,n.props.files[e])},n.handleRemoveImg=function(e){var t=n.props.files,o=void 0===t?[]:t;f===r.default.ENV_TYPE.WEB&&window.URL.revokeObjectURL(o[e].url);var a=o.filter(function(t,n){return n!==e});n.props.onChange(a,"remove",e)},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtImagePicker,c.default),o(AtImagePicker,[{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,o=t.customStyle,r=t.files,l=t.mode,c=t.length,f=t.showAddBtn,p=function generateMatrix(e,t,n){for(var o=[],r=n?e.length+1:e.length,a=Math.ceil(r/t),i=0;i<a;i++)if(i===a-1){var l=e.slice(i*t);if(l.length<t){n&&l.push({"type":"btn","uuid":(0,s.uuid)()});for(var u=l.length;u<t;u++)l.push({"type":"blank","uuid":(0,s.uuid)()})}o.push(l)}else o.push(e.slice(i*t,(i+1)*t));return o}(r,c,f),d=(0,u.default)("at-image-picker",n);return a.default.createElement(i.View,{"className":d,"style":o},p.map(function(t,n){return a.default.createElement(i.View,{"className":"at-image-picker__flex-box","key":n},t.map(function(t,o){return t.url?a.default.createElement(i.View,{"className":"at-image-picker__flex-item","key":t.url},a.default.createElement(i.View,{"className":"at-image-picker__item"},a.default.createElement(i.View,{"className":"at-image-picker__remove-btn","onClick":e.handleRemoveImg.bind(e,n*c+o)}),a.default.createElement(i.Image,{"className":"at-image-picker__preview-img","mode":l,"src":t.url,"onClick":e.handleImageClick.bind(e,n*c+o)}))):a.default.createElement(i.View,{"className":"at-image-picker__flex-item","key":t.uuid},"btn"===t.type&&a.default.createElement(i.View,{"className":"at-image-picker__item at-image-picker__choose-btn","onClick":e.chooseFile},a.default.createElement(i.View,{"className":"add-bar"}),a.default.createElement(i.View,{"className":"add-bar"})))}))}))}}]),AtImagePicker}();t.default=p,p.defaultProps={"isTest":!1,"className":"","customStyle":"","files":[],"mode":"aspectFill","showAddBtn":!0,"multiple":!1,"length":4,"onChange":function onChange(){},"onImageClick":function onImageClick(){},"onFail":function onFail(){}},p.propTypes={"className":l.default.oneOfType([l.default.string,l.default.array]),"customStyle":l.default.oneOfType([l.default.string,l.default.object]),"isTest":l.default.bool,"files":l.default.array,"mode":l.default.oneOf(["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]),"showAddBtn":l.default.bool,"multiple":l.default.bool,"length":l.default.number,"onChange":l.default.func,"onImageClick":l.default.func,"onFail":l.default.func}},"279":function(e,t,n){},"59":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=_interopRequireDefault(n(1)),a=_interopRequireDefault(n(2)),i=n(62),l=_interopRequireDefault(n(278)),u=_interopRequireDefault(n(68));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}n(279);var c=[{"url":"https://storage.360buyimg.com/mtd/home/111543234387022.jpg"},{"url":"https://storage.360buyimg.com/mtd/home/221543234387016.jpg"},{"url":"https://storage.360buyimg.com/mtd/home/331543234387025.jpg"}],s=function(e){function Index(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"Taro UI"},e.state={"files1":Array.from(c),"files2":Array.from(c),"files3":Array.from(c),"files4":c.concat([{"url":"https://storage.360buyimg.com/mtd/home/36549825_887087111478302_5745542532574478336_n1543234831971.jpg"}])},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r.default.Component),o(Index,[{"key":"onChange","value":function onChange(e,t){this.setState(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},e,t))}},{"key":"onFail","value":function onFail(e){console.log(e)}},{"key":"onImageClick","value":function onImageClick(e,t){console.log(e,t)}},{"key":"render","value":function render(){return a.default.createElement(i.View,{"className":"page"},a.default.createElement(u.default,{"title":"ImagePicker 图片选择器"}),a.default.createElement(i.View,{"className":"doc-body"},a.default.createElement(i.View,{"className":"panel"},a.default.createElement(i.View,{"className":"panel__title"},"基础用法"),a.default.createElement(i.View,{"className":"panel__content no-padding"},a.default.createElement(i.View,{"className":"example-item"},a.default.createElement(l.default,{"files":this.state.files1,"onChange":this.onChange.bind(this,"files1")})))),a.default.createElement(i.View,{"className":"panel"},a.default.createElement(i.View,{"className":"panel__title"},"多选图片"),a.default.createElement(i.View,{"className":"panel__content no-padding"},a.default.createElement(i.View,{"className":"example-item"},a.default.createElement(l.default,{"multiple":!0,"files":this.state.files2,"onChange":this.onChange.bind(this,"files2"),"onFail":this.onFail.bind(this),"onImageClick":this.onImageClick.bind(this)})))),a.default.createElement(i.View,{"className":"panel"},a.default.createElement(i.View,{"className":"panel__title"},"自定义每行数量"),a.default.createElement(i.View,{"className":"panel__content no-padding"},a.default.createElement(i.View,{"className":"example-item"},a.default.createElement(l.default,{"multiple":!0,"length":3,"files":this.state.files3,"onChange":this.onChange.bind(this,"files3")})))),a.default.createElement(i.View,{"className":"panel"},a.default.createElement(i.View,{"className":"panel__title"},"更改图片的缩放模式"),a.default.createElement(i.View,{"className":"panel__content no-padding"},a.default.createElement(i.View,{"className":"example-item"},a.default.createElement(l.default,{"mode":"aspectFit","multiple":!0,"files":this.state.files4,"onChange":this.onChange.bind(this,"files4")}))))))}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Index}();t.default=s},"62":function(e,t,n){e.exports=n(0)(18)},"63":function(e,t,n){e.exports=n(66)()},"64":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1);_interopRequireDefault(a),_interopRequireDefault(n(2));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var i=function objectToString(e){if(e&&"object"===(void 0===e?"undefined":r(e))){var t="";return Object.keys(e).forEach(function(n){var o=n.replace(/([A-Z])/g,"-$1").toLowerCase();t+=o+":"+e[n]+";"}),t}return e&&"string"==typeof e?e:""},l=function(e){function AtComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtComponent),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtComponent.__proto__||Object.getPrototypeOf(AtComponent)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtComponent,a.Component),o(AtComponent,[{"key":"mergeStyle","value":function mergeStyle(e,t){return e&&"object"===(void 0===e?"undefined":r(e))&&t&&"object"===(void 0===t?"undefined":r(t))?Object.assign({},e,t):i(e)+i(t)}}]),AtComponent}();l.options={"addGlobalClass":!0},t.default=l},"65":function(e,t,n){e.exports=n(0)(19)},"66":function(e,t,n){"use strict";var o=n(67);function emptyFunction(){}e.exports=function(){function shim(e,t,n,r,a,i){if(i!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function getShim(){return shim}shim.isRequired=shim;var e={"array":shim,"bool":shim,"func":shim,"number":shim,"object":shim,"string":shim,"symbol":shim,"any":shim,"arrayOf":getShim,"element":shim,"instanceOf":getShim,"node":shim,"objectOf":getShim,"oneOf":getShim,"oneOfType":getShim,"shape":getShim,"exact":getShim};return e.checkPropTypes=emptyFunction,e.PropTypes=e,e}},"67":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"68":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=n(1),a=(_interopRequireDefault(r),_interopRequireDefault(n(2))),i=_interopRequireDefault(n(63)),l=n(62);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}n(69);var u=function(e){function DocsHeader(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DocsHeader),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DocsHeader.__proto__||Object.getPrototypeOf(DocsHeader)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DocsHeader,r.Component),o(DocsHeader,[{"key":"render","value":function render(){var e=this.props.title;return a.default.createElement(l.View,{"className":"doc-header"},a.default.createElement(l.View,{"className":"doc-header__title"},e))}}]),DocsHeader}();t.default=u,u.defaultProps={"title":"标题"},u.propTypes={"title":i.default.string}},"69":function(e,t,n){},"82":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.initTestEnv=t.getEventDetail=t.uuid=t.delayQuerySelector=t.delay=void 0;var o=_interopRequireDefault(n(1));_interopRequireDefault(n(2));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=o.default.getEnv();function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(function(t){r!==o.default.ENV_TYPE.WEB?t():setTimeout(function(){t()},e)})}t.delay=delay,t.delayQuerySelector=function delayQuerySelector(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,a=r===o.default.ENV_TYPE.WEB?e:e.$scope,i=o.default.createSelectorQuery().in(a);return new Promise(function(e){delay(n).then(function(){i.select(t).boundingClientRect().exec(function(t){e(t)})})})},t.uuid=function uuid(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],a=0;if(n=n||o.length,t)for(a=0;a<t;a++)r[a]=o[0|Math.random()*n];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",a=0;a<36;a++)r[a]||(e=0|16*Math.random(),r[a]=o[19==a?3&e|8:e]);return r.join("")},t.getEventDetail=function getEventDetail(e){var t=void 0;switch(r){case o.default.ENV_TYPE.WEB:t={"pageX":e.pageX,"pageY":e.pageY,"clientX":e.clientX,"clientY":e.clientY,"offsetX":e.offsetX,"offsetY":e.offsetY,"x":e.x,"y":e.y};break;case o.default.ENV_TYPE.WEAPP:t={"pageX":e.target.pageX,"pageY":e.target.pageY,"clientX":e.touches[0].clientX,"clientY":e.touches[0].clientY,"offsetX":e.target.offsetLeft,"offsetY":e.target.offsetTop,"x":e.target.x,"y":e.target.y};break;case o.default.ENV_TYPE.ALIPAY:t={"pageX":e.target.pageX,"pageY":e.target.pageY,"clientX":e.target.clientX,"clientY":e.target.clientY,"offsetX":e.target.offsetLeft,"offsetY":e.target.offsetTop,"x":e.target.x,"y":e.target.y};break;default:t={"pageX":0,"pageY":0,"clientX":0,"clientY":0,"offsetX":0,"offsetY":0,"x":0,"y":0},console.warn("getEventDetail暂未支持该环境")}return t},t.initTestEnv=function initTestEnv(){}}}]);